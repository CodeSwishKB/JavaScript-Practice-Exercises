<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>exercise 67 - JavaScript Basics</title>
  </head>
  <body>
    <h2>
      67. Write a JavaScript program to create a new string from a given string.
      This program removes the first and last characters of the string if the
      first or last character is 'P'. Return the original string if the
      condition is not satisfied.
    </h2>

    <input type="text" />
    <button>create</button>
    <p></p>

    <script>
      var elInput = document.querySelector("input");
      var elBtn = document.querySelector("button");
      var elDisplay = document.querySelector("p");

      elBtn.addEventListener("click", function () {
        var str = elInput.value;
        var without_first_end = str.slice(1, -1);
        if (str.startsWith("P") && str.endsWith("P")) {
          elDisplay.innerHTML = without_first_end;
        } else {
          elDisplay.innerHTML = str;
        }
      });

      // w3 solution
      function nop(str) {
        let start_pos = 0;
        let end_pos = str.length;

        if (str.length > 0 && str.charAt(0) == "P") {
          start_pos = 1;
        }

        if (str.length > 1 && str.charAt(str.length - 1) == "P") {
          end_pos--;
        }

        return str.substring(start_pos, end_pos);
      }
    </script>
  </body>
</html>
